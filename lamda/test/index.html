<!DOCTYPE html>
<html>
<head>
	<title>Lamda Testing</title>
	<script type="text/javascript" src="../lamda.js"></script>
</head>
<body>
	<script type="text/javascript">
		function assertEquals(a, b) {
			console.log(a, b, a === b);
		}

		require({
			paths: {
				"lol": "lol"
			}
		}, [
			"./A",
			"./B"
		], function(A, B) {
			console.log("req1", A);
			assertEquals(A.message, "A");
			assertEquals(B.message, "B");
			assertEquals(A.AA.message, "AA");
			assertEquals(A.AB.message, "AB");
			assertEquals(B.BC.message, "BC");
			assertEquals(A.AA.AAA.message, "AAA");
		});

		require({
			paths: {
				"lol2": "lol2"
			}
		},[
			"./C",
			"./A"
		], function(C, A) {
			console.log("req2", A);
			assertEquals(C.message, "C");
			assertEquals(A.message, "A");
		})

		require([
			"text!message.html",
			"text!message2.html"
		], function(message, message2) {
			assertEquals(message, "Hello World!");
			assertEquals(message2, "Foo Bar!");
		})

		require({
			packages: [
				"mypackage"
			]
		}, [
			"mypackage",
			"mypackage/file"
		], function(main, file) {
			console.log("Package Test");
			assertEquals(main.message, "main");
			assertEquals(file.message, "file");
		})

		require({
			packages: [
				{
					name: "mypackage2",
					location: "mypackage2",
					main: "main"
				}
			]
		}, [
			"mypackage2",
			"mypackage2/file"
		], function(main, file) {
			console.log("Package Test 2");
			assertEquals(main.message, "main");
			assertEquals(file.message, "file");
		})
	</script>
</body>
</html>